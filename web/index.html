<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Pocket Option Signal</title>
  <style>
    :root{
      --bg1:#041118;
      --bg2:#071823;
      --card: rgba(10,14,18,.78);
      --card2: rgba(10,14,18,.62);
      --stroke: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --muted2: rgba(255,255,255,.58);
      --btn: rgba(255,255,255,.07);
      --btn2: rgba(255,255,255,.10);
      --shadow: 0 30px 90px rgba(0,0,0,.55);
      --r: 26px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(0,180,255,.18), transparent 60%),
        radial-gradient(900px 500px at 80% 30%, rgba(120,0,255,.10), transparent 62%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      overflow-x:hidden;
    }

    /* ===== TOP 3D CANVAS AREA (ONLY TOP) ===== */
    #topHero3D{
      position:fixed;
      left:0; top:0;
      width:100%;
      height:56vh;         /* top area */
      pointer-events:none; /* do not block clicks */
      z-index:0;
      overflow:visible;
      background:
        radial-gradient(700px 300px at 50% 15%, rgba(0,180,255,.18), transparent 60%),
        linear-gradient(180deg, rgba(6,30,48,1), rgba(2,8,12,0));
    }
    #topBg3D{
      width:100%;
      height:100%;
      display:block;
      opacity:1;
    }

    /* ===== PAGE LAYOUT ===== */
    .wrap{
      position:relative;
      z-index:2;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18vh 14px 26px; /* pushes menu down so top 3D is visible */
    }

    .card{
      width:min(520px, 94vw);
      border-radius: var(--r);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid var(--stroke);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      transform-style: preserve-3d;
      transition: transform .14s ease;
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(500px 220px at 20% 0%, rgba(0,180,255,.16), transparent 55%),
        radial-gradient(500px 240px at 85% 20%, rgba(140,0,255,.12), transparent 58%);
      pointer-events:none;
      transform: translateZ(0);
    }

    .header{
      position:relative;
      padding: 18px 18px 12px;
      display:flex;
      gap:14px;
      align-items:center;
      border-bottom: 1px solid rgba(255,255,255,.07);
    }
    .orbIcon{
      width:54px;height:54px;border-radius:16px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), rgba(255,255,255,.08) 55%, rgba(0,0,0,.25));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 12px 30px rgba(0,0,0,.35);
      display:flex;align-items:center;justify-content:center;
      font-size:22px;
      transform: translateZ(10px);
    }
    .hTitle{
      font-size:22px;
      font-weight:800;
      letter-spacing:.2px;
      line-height:1.1;
      margin:0;
    }
    .hSub{
      margin:3px 0 0;
      font-size:14px;
      color:var(--muted);
    }
    .hint{
      margin:10px 18px 0;
      color:var(--muted2);
      font-size:13px;
      line-height:1.35;
    }

    .menu{
      padding:16px 16px 18px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }

    .btn{
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding: 14px 14px;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      transform: translateZ(0);
    }
    .btn::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at 30% 20%, rgba(0,180,255,.16), transparent 50%);
      transform: translateZ(0);
      pointer-events:none;
    }
    .btn:hover{ background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.14); }
    .btn:active{ transform: translateY(2px) scale(.99); }

    .btn b{
      display:block;
      font-size:15px;
      font-weight:800;
      letter-spacing:.2px;
      margin-bottom:4px;
    }
    .btn span{
      display:block;
      font-size:12.5px;
      color:var(--muted);
      opacity:.95;
    }

    .btn.big{ grid-column:1 / -1; }

    /* pages */
    .page{ display:none; }
    .page.active{ display:block; }

    .pageInner{
      padding:16px 16px 18px;
    }

    .back{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin: 10px 16px 0;
      cursor:pointer;
      color: rgba(255,255,255,.82);
      opacity:.9;
      user-select:none;
    }
    .back:active{ opacity:1; transform: translateY(1px); }

    .box{
      margin: 10px 16px 16px;
      border-radius: 18px;
      padding: 14px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.09);
      color: rgba(255,255,255,.86);
      line-height:1.4;
    }
  </style>
</head>
<body>

  <!-- TOP ONLY 3D -->
  <div id="topHero3D"><canvas id="topBg3D"></canvas></div>

  <div class="wrap" id="wrap">
    <div class="card" id="card">

      <!-- MENU -->
      <div class="page active" id="menu">
        <div class="header">
          <div class="orbIcon" id="orbIcon">üî∑</div>
          <div>
            <h1 class="hTitle" id="titleText">Pocket Option Signal</h1>
            <p class="hSub" id="subText">Menu‚Äôdan bo‚Äòlim tanlang</p>
          </div>
        </div>
        <div class="hint" id="hintText">Barmoq bilan aylantir ‚Äî ranglar almashadi. Tugmalar ishlaydi.</div>

        <div class="menu">
          <div class="btn" onclick="openPage('signal')"><b>üìà Pocket Signal</b><span>Signal sahifasi</span></div>
          <div class="btn" onclick="openPage('chat')"><b>üí¨ Pocket Chat</b><span>Ilova ichida chat</span></div>
          <div class="btn" onclick="openPage('settings')"><b>‚öôÔ∏è Setting</b><span>Sozlamalar</span></div>
          <div class="btn" onclick="openPage('vip')"><b>üëë VIP Signal</b><span>Referral uchun</span></div>
          <div class="btn" onclick="openPage('ai')"><b>ü§ñ AI Analiz</b><span>Keyin ulanadi</span></div>
          <div class="btn" onclick="openPage('edu')"><b>üìö Darslik & Stat</b><span>Grafik/darslar</span></div>
          <div class="btn big" onclick="openPage('info')"><b>‚ÑπÔ∏è Info</b><span>Qisqa ma‚Äôlumot</span></div>
        </div>
      </div>

      <!-- PAGES -->
      <div class="page" id="signal">
        <div class="back" onclick="openPage('menu')">‚¨ÖÔ∏è Orqaga</div>
        <div class="pageInner">
          <div class="box"><b>Pocket Signal</b><br/>Bu yerda signal kontenti bo‚Äòladi.</div>
        </div>
      </div>

      <div class="page" id="chat">
        <div class="back" onclick="openPage('menu')">‚¨ÖÔ∏è Orqaga</div>
        <div class="pageInner">
          <div class="box"><b>Pocket Chat</b><br/>Bu yerda chat bo‚Äòlimi bo‚Äòladi.</div>
        </div>
      </div>

      <div class="page" id="settings">
        <div class="back" onclick="openPage('menu')">‚¨ÖÔ∏è Orqaga</div>
        <div class="pageInner">
          <div class="box"><b>Setting</b><br/>Sozlamalar shu yerda.</div>
        </div>
      </div>

      <div class="page" id="vip">
        <div class="back" onclick="openPage('menu')">‚¨ÖÔ∏è Orqaga</div>
        <div class="pageInner">
          <div class="box"><b>VIP Signal</b><br/>VIP funksiyalar keyin qo‚Äòshiladi.</div>
        </div>
      </div>

      <div class="page" id="ai">
        <div class="back" onclick="openPage('menu')">‚¨ÖÔ∏è Orqaga</div>
        <div class="pageInner">
          <div class="box"><b>AI Analiz</b><br/>Keyin ulanadi.</div>
        </div>
      </div>

      <div class="page" id="edu">
        <div class="back" onclick="openPage('menu')">‚¨ÖÔ∏è Orqaga</div>
        <div class="pageInner">
          <div class="box"><b>Darslik & Stat</b><br/>Grafik/darslar bo‚Äòlimi.</div>
        </div>
      </div>

      <div class="page" id="info">
        <div class="back" onclick="openPage('menu')">‚¨ÖÔ∏è Orqaga</div>
        <div class="pageInner">
          <div class="box"><b>Info</b><br/>Qisqa ma‚Äôlumot.</div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // ===== PAGE SWITCH (buttons must work) =====
    function openPage(id){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      const el = document.getElementById(id);
      if(el) el.classList.add('active');
      // reset tilt when changing page
      resetTilt();
    }

    // ===== 3D TILT for card (mouse + touch) =====
    const wrap = document.getElementById('wrap');
    const card = document.getElementById('card');

    function applyTilt(dx, dy){
      const max = 10; // kuchi
      card.style.transform =
        `rotateX(${(-dy*max).toFixed(2)}deg) rotateY(${(dx*max).toFixed(2)}deg) translateZ(0)`;
    }
    function resetTilt(){
      card.style.transform = 'rotateX(0deg) rotateY(0deg) translateZ(0)';
    }

    // PC
    wrap.addEventListener('mousemove', (e)=>{
      const r = card.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      const dx = (e.clientX - cx) / (r.width/2);
      const dy = (e.clientY - cy) / (r.height/2);
      applyTilt(dx, dy);
    });
    wrap.addEventListener('mouseleave', resetTilt);

    // Phone/Telegram (touch)
    wrap.addEventListener('touchmove', (e)=>{
      const t = e.touches[0];
      const r = card.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      const dx = (t.clientX - cx) / (r.width/2);
      const dy = (t.clientY - cy) / (r.height/2);
      applyTilt(dx, dy);
    }, {passive:true});
    wrap.addEventListener('touchend', resetTilt);

    // ===== TOP 3D ORB (2D canvas fake-3D) =====
    const canvas = document.getElementById('topBg3D');
    const ctx = canvas.getContext('2d');

    function size(){
      const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      canvas.width  = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor((window.innerHeight * 0.56) * dpr);
      canvas.style.width = window.innerWidth + 'px';
      canvas.style.height = (window.innerHeight * 0.56) + 'px';
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    window.addEventListener('resize', size);
    size();

    // Color themes (touch changes)
    const themes = [
      {h:195, s:95, l:58}, // blue
      {h:0,   s:95, l:58}, // red
      {h:0,   s:0,  l:92}, // white
      {h:0,   s:0,  l:10}, // black
      {h:320, s:85, l:62}, // pink
      {h:30,  s:90, l:58}, // brown/orange
      {h:55,  s:95, l:58}, // yellow
      {h:130, s:85, l:55}, // green
    ];
    let themeIndex = 0;
    let cur = {...themes[0]};
    let tgt = {...themes[0]};

    // Touch anywhere top -> cycle color
    let touching = false;
    let lastX = 0, lastY = 0;
    document.addEventListener('touchstart', (e)=>{
      touching = true;
      const t = e.touches[0];
      lastX = t.clientX; lastY = t.clientY;
      // if touch is in top area -> change theme
      if(t.clientY <= window.innerHeight * 0.56){
        themeIndex = (themeIndex + 1) % themes.length;
        tgt = {...themes[themeIndex]};
        // small UI text update
        document.getElementById('hintText').textContent =
          "Barmoq bilan aylantir ‚Äî ranglar almashadi. Tugmalar ishlaydi.";
      }
    }, {passive:true});
    document.addEventListener('touchmove', (e)=>{
      const t = e.touches[0];
      lastX = t.clientX; lastY = t.clientY;
    }, {passive:true});
    document.addEventListener('touchend', ()=>{touching=false;}, {passive:true});

    // Mouse move also rotates
    document.addEventListener('mousemove', (e)=>{
      lastX = e.clientX; lastY = e.clientY;
    });

    // Particles on a sphere
    const PCOUNT = 1400;
    const pts = new Array(PCOUNT).fill(0).map(()=> {
      // sphere distribution
      const u = Math.random();
      const v = Math.random();
      const theta = 2*Math.PI*u;
      const phi = Math.acos(2*v-1);
      const x = Math.sin(phi)*Math.cos(theta);
      const y = Math.cos(phi);
      const z = Math.sin(phi)*Math.sin(theta);
      const s = 0.45 + Math.random()*0.75; // size factor
      return {x,y,z,s};
    });

    let t = 0;

    function lerp(a,b,k){ return a + (b-a)*k; }
    function ease(x){ return 1 - Math.pow(1-x,3); }

    function draw(){
      t += 0.012;

      const w = window.innerWidth;
      const h = window.innerHeight * 0.56;
      ctx.clearRect(0,0,w,h);

      // smooth theme blend
      cur.h = lerp(cur.h, tgt.h, 0.06);
      cur.s = lerp(cur.s, tgt.s, 0.06);
      cur.l = lerp(cur.l, tgt.l, 0.06);

      // rotation based on pointer
      const nx = (lastX / Math.max(1,w)) * 2 - 1;
      const ny = (lastY / Math.max(1,h)) * 2 - 1;

      const rotY = nx * 0.9 + Math.sin(t*0.6)*0.25;
      const rotX = -ny * 0.7 + Math.cos(t*0.55)*0.20;

      // sphere parameters (TOP center)
      const cx = w*0.50;
      const cy = h*0.56;
      const R  = Math.min(w, h) * 0.26;

      // background glow
      ctx.save();
      ctx.globalCompositeOperation = 'lighter';
      ctx.beginPath();
      ctx.arc(cx, cy, R*1.35, 0, Math.PI*2);
      ctx.fillStyle = `hsla(${cur.h}, ${cur.s}%, ${cur.l}%, 0.10)`;
      ctx.shadowColor = `hsla(${cur.h}, ${cur.s}%, ${cur.l}%, 0.35)`;
      ctx.shadowBlur = 40;
      ctx.fill();
      ctx.restore();

      // orbit rings (TikTok-like)
      ctx.save();
      ctx.globalCompositeOperation = 'screen';
      ctx.translate(cx, cy);
      ctx.rotate(rotY*0.55);

      for(let i=0;i<2;i++){
        ctx.save();
        ctx.rotate((i?1:-1) * (0.95 + rotX*0.25));
        const rr = R*(1.08 + i*0.10);

        ctx.beginPath();
        for(let a=0;a<=Math.PI*2+0.01;a+=0.04){
          const x = Math.cos(a)*rr;
          const y = Math.sin(a)*rr*0.35;
          if(a===0) ctx.moveTo(x,y);
          else ctx.lineTo(x,y);
        }
        ctx.strokeStyle = `hsla(${cur.h + i*40}, ${cur.s}%, ${cur.l}%, 0.35)`;
        ctx.lineWidth = 2.1;
        ctx.shadowColor = `hsla(${cur.h + i*40}, ${cur.s}%, ${cur.l}%, 0.60)`;
        ctx.shadowBlur = 22;
        ctx.stroke();
        ctx.restore();
      }
      ctx.restore();

      // project points
      const projected = [];
      for(let i=0;i<pts.length;i++){
        const p = pts[i];
        // rotate around X then Y
        let x=p.x, y=p.y, z=p.z;

        // X rot
        const cxr = Math.cos(rotX), sxr = Math.sin(rotX);
        let y1 = y*cxr - z*sxr;
        let z1 = y*sxr + z*cxr;

        // Y rot
        const cyr = Math.cos(rotY), syr = Math.sin(rotY);
        let x2 = x*cyr + z1*syr;
        let z2 = -x*syr + z1*cyr;

        // subtle breathing / swirl
        const swirl = Math.sin(t + (i%200)*0.02) * 0.02;
        x2 += swirl * (x2);
        y1 += swirl * (y1);

        // perspective
        const depth = (z2 + 1.6); // 0.6..2.6
        const px = cx + x2 * (R / depth);
        const py = cy + y1 * (R / depth);

        const size = (p.s * 1.10) * (1.0 / depth);
        projected.push({px,py,z:z2,size});
      }

      // draw far -> near
      projected.sort((a,b)=>a.z-b.z);

      ctx.save();
      ctx.globalCompositeOperation = 'lighter';

      for(const q of projected){
        const alpha = 0.10 + ((q.z+1)/2)*0.65; // near brighter
        const r = Math.max(0.7, q.size*2.2);

        ctx.beginPath();
        ctx.arc(q.px, q.py, r, 0, Math.PI*2);
        ctx.fillStyle = `hsla(${cur.h}, ${cur.s}%, ${cur.l}%, ${alpha})`;
        ctx.fill();
      }

      // highlight specular
      ctx.beginPath();
      ctx.arc(cx - R*0.22, cy - R*0.22, R*0.42, 0, Math.PI*2);
      ctx.fillStyle = `rgba(255,255,255,.05)`;
      ctx.shadowColor = `hsla(${cur.h}, ${cur.s}%, ${cur.l}%, .35)`;
      ctx.shadowBlur = 26;
      ctx.fill();

      ctx.restore();

      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>

